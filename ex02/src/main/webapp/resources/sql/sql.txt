create sequence seq_board nocache;

create table tbl_board (
bno number(10,0),
title varchar2(200) not null,
content varchar2(2000) not null,
writer varchar2(50) not null,
regdate date default sysdate,
updatedate date default sysdate
);

alter table tbl_board add constraint pk_board
primary key (bno);

insert into tbl_board (bno,title,content,writer)
values (seq_board.nextval,'테스트 제목','테스트 내용','user1000');

commit;

--댓글용 테이블
create table tbl_reply(
rno number(10,0) not null, --pk
bno number(10,0) not null, --fk
reply varchar2(1000) not null,
replyer varchar2(50) not null,
replyDate date default sysdate,
updatedate date default sysdate
);

--댓글 테이블용 시퀀스
create sequence seq_reply nocache;

--TBL_REPLY에 PK 지정
alter table tbl_reply add constraint pk_reply primary key (rno);

--TBL_REPLY에 외래키 지정
alter table tbl_reply add constraint fk_reply_board foreign key (bno) references
tbl_board (bno);

commit;

--댓글 처리를 위한 인덱스 생성(처리 속도 개선)
Create index idx_reply on tbl_reply (bno desc,rno asc);